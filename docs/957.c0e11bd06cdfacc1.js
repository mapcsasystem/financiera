"use strict";(self.webpackChunkfinanciera=self.webpackChunkfinanciera||[]).push([[957],{6957:(Wt,F,l)=>{l.r(F),l.d(F,{SavingAccountsModule:()=>$t});var _=l(9808),D=l(1083),b=l(5861),A=l(6087),d=l(4847),s=l(8279),v=l(727),t=l(5e3),c=l(8966),Z=l(3874),f=l(7423);let T=(()=>{class e{constructor(n){this.dialogRef=n}ngOnInit(){}closeDialog(){this.dialogRef.close(null)}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(c.so))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-error-expired"]],decls:16,vars:0,consts:[["mat-dialog-title","",1,"title"],[1,"title--icon"],["color","warn",1,"title--icon__margin-icon"],[2,"color","#f44336"],["mat-icon-button","","aria-label","Example icon button with a vertical three dot icon",3,"click"],[1,"mat-typography"],["align","end"],["mat-raised-button","","color","warn",3,"click"]],template:function(n,a){1&n&&(t.TgZ(0,"h2",0),t.TgZ(1,"div",1),t.TgZ(2,"mat-icon",2),t._uU(3,"info"),t.qZA(),t.TgZ(4,"span",3),t._uU(5," UPSSS!!! "),t.qZA(),t.qZA(),t.TgZ(6,"div"),t.TgZ(7,"button",4),t.NdJ("click",function(){return a.closeDialog()}),t.TgZ(8,"mat-icon"),t._uU(9,"close"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(10,"mat-dialog-content",5),t.TgZ(11,"p"),t._uU(12,"Tu sesi\xf3n a caducado favor de iniciar sesi\xf3n nuevamente!!!"),t.qZA(),t.qZA(),t.TgZ(13,"mat-dialog-actions",6),t.TgZ(14,"button",7),t.NdJ("click",function(){return a.closeDialog()}),t._uU(15,"CERRAR"),t.qZA(),t.qZA())},directives:[c.uh,Z.Hw,f.lW,c.xY,c.H8],styles:[".title[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.title--icon[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center}.title--icon__margin-icon[_ngcontent-%COMP%]{margin-right:10px}"]}),e})();var r=l(3075);class k{constructor(i){this.form=i}get estado(){return this.form.get("estado")}get fechaUltimaAct(){return this.form.get("fechaUltimaAct")}get idCliente(){return this.form.get("idCliente")}get numeroCuenta(){return this.form.get("numeroCuenta")}get saldo(){return this.form.get("saldo")}}var x=l(7570),C=l(2340),N=l(520);let y=(()=>{class e{constructor(n){this.http=n,this.params={auth:localStorage.getItem("idToken")},this.idUser=localStorage.getItem("localId")}getAllSavingAccounts(){return this.http.get(`${C.N.api.savingAccounts.url}/${this.idUser}.json`,{params:this.params})}createSavingAccounts(n){return this.http.post(`${C.N.api.savingAccounts.url}/${this.idUser}.json`,n,{params:this.params})}getAllTransacions(){return this.http.get(`${C.N.api.transactions.url}/${this.idUser}.json`,{params:this.params})}createTransactions(n){return this.http.post(`${C.N.api.transactions.url}/${this.idUser}.json`,n,{params:this.params})}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(N.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var S=l(9790),m=l(7322),q=l(7531),p=l(6856);function I(e,i){1&e&&(t.TgZ(0,"span"),t._uU(1," Campo requerido. "),t.qZA())}function Y(e,i){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,I,2,0,"span",8),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",null==n.validateField.estado?null:n.validateField.estado.hasError("required"))}}function R(e,i){1&e&&(t.TgZ(0,"span"),t._uU(1," Campo requerido. "),t.qZA())}function J(e,i){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,R,2,0,"span",8),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",null==n.validateField.fechaUltimaAct?null:n.validateField.fechaUltimaAct.hasError("required"))}}function E(e,i){1&e&&(t.TgZ(0,"span"),t._uU(1," Campo requerido. "),t.qZA())}function Q(e,i){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,E,2,0,"span",8),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",null==n.validateField.idCliente?null:n.validateField.idCliente.hasError("required"))}}function H(e,i){1&e&&(t.TgZ(0,"span"),t._uU(1," Campo requerido. "),t.qZA())}function O(e,i){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,H,2,0,"span",8),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",null==n.validateField.numeroCuenta?null:n.validateField.numeroCuenta.hasError("required"))}}function P(e,i){1&e&&(t.TgZ(0,"span"),t._uU(1," Campo requerido. "),t.qZA())}function M(e,i){1&e&&(t.TgZ(0,"span"),t._uU(1,' Solo n\xfameros "+" 2 decimales como m\xe1ximo. '),t.qZA())}function j(e,i){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,P,2,0,"span",8),t.YNc(2,M,2,0,"span",8),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",null==n.validateField.saldo?null:n.validateField.saldo.hasError("required")),t.xp6(1),t.Q6J("ngIf",null==n.validateField.saldo?null:n.validateField.saldo.hasError("pattern"))}}let G=(()=>{class e{constructor(n,a,o,u,g,U){this.dialogRef=n,this.data=a,this.fb=o,this.savingAccountsService=u,this.dialog=g,this.loginService=U,this.subscription=new v.w0}ngOnInit(){this.initForm()}initForm(){this.dialogRef.disableClose=!0,this.formData=this.fb.group({estado:["Activa"],fechaUltimaAct:[null,[r.kI.required]],idCliente:[null,[r.kI.required]],numeroCuenta:[null,[r.kI.required]],saldo:[null,[r.kI.required,r.kI.pattern(x.M.onlyNumbersFloats)]]}),this.validateField=new k(this.formData)}closeDialog(){this.dialogRef.close(!1)}save(){this.formData.invalid?this.formData.markAllAsTouched():this.savingAccountsService.createSavingAccounts(this.formData.value).subscribe(n=>{this.dialogRef.close(!0)},({})=>{this.dialogRef.close(!0);const a=this.dialog.open(T,{maxWidth:"100vw",maxHeight:"100vh",width:"80%"});this.subscription.add(a.afterClosed().subscribe(o=>{this.loginService.logout()}))})}addEventDatePicker(n,a){var o;"fechaUltimaAct"===(this.startDate=new Date,a)&&(n.value.setHours(this.startDate.getHours(),this.startDate.getMinutes(),this.startDate.getSeconds(),this.startDate.getMilliseconds()),null===(o=this.validateField.fechaUltimaAct)||void 0===o||o.setValue(n.value))}ngOnDestroy(){this.subscription.unsubscribe()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(c.so),t.Y36(c.WI),t.Y36(r.qu),t.Y36(y),t.Y36(c.uw),t.Y36(S.r))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-create-saving-accounts"]],decls:46,vars:8,consts:[["mat-dialog-title","",1,"title"],[1,"title--icon"],[1,"title--icon__margin-icon"],["mat-icon-button","","aria-label","Example icon button with a vertical three dot icon",3,"click"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"mat-typography"],["appearance","outline"],["matInput","","type","text","readonly","","placeholder","Estado","formControlName","estado"],[4,"ngIf"],["appearance","outline","id","fechaDeInicioId"],["matInput","","placeholder","click en icono de fecha ==>","readonly","","formControlName","fechaUltimaAct",3,"matDatepicker","dateChange"],["matSuffix","",3,"for"],["disabled","false"],["pickerFechaUltimaAct",""],["matInput","","type","number","placeholder","Id del Cliente","formControlName","idCliente"],["matInput","","type","text","placeholder","N\xfamero de cuenta","formControlName","numeroCuenta"],["matInput","","type","number","placeholder","Saldo","formControlName","saldo","onkeypress","return event.charCode != 45"],["matPrefix",""],["align","end"],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","","color","primary","type","submit"]],template:function(n,a){if(1&n&&(t.TgZ(0,"h2",0),t.TgZ(1,"div",1),t.TgZ(2,"mat-icon",2),t._uU(3,"add_circle"),t.qZA(),t._uU(4," AGREGAR CUENTA DE AHORRO "),t.qZA(),t.TgZ(5,"div"),t.TgZ(6,"button",3),t.NdJ("click",function(){return a.closeDialog()}),t.TgZ(7,"mat-icon"),t._uU(8,"close"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"form",4),t.NdJ("ngSubmit",function(){return a.save()}),t.TgZ(10,"mat-dialog-content",5),t.TgZ(11,"mat-form-field",6),t.TgZ(12,"mat-label"),t._uU(13,"Estado"),t.qZA(),t._UZ(14,"input",7),t.YNc(15,Y,2,1,"mat-error",8),t.qZA(),t.TgZ(16,"mat-form-field",9),t.TgZ(17,"mat-label"),t._uU(18,"Fecha"),t.qZA(),t.TgZ(19,"input",10),t.NdJ("dateChange",function(u){return a.addEventDatePicker(u,"fechaUltimaAct")}),t.qZA(),t._UZ(20,"mat-datepicker-toggle",11),t._UZ(21,"mat-datepicker",12,13),t.YNc(23,J,2,1,"mat-error",8),t.qZA(),t.TgZ(24,"mat-form-field",6),t.TgZ(25,"mat-label"),t._uU(26,"ID del Cliente"),t.qZA(),t._UZ(27,"input",14),t.YNc(28,Q,2,1,"mat-error",8),t.qZA(),t.TgZ(29,"mat-form-field",6),t.TgZ(30,"mat-label"),t._uU(31,"N\xfamero de cuenta"),t.qZA(),t._UZ(32,"input",15),t.YNc(33,O,2,1,"mat-error",8),t.qZA(),t.TgZ(34,"mat-form-field",6),t.TgZ(35,"mat-label"),t._uU(36,"Saldo"),t.qZA(),t._UZ(37,"input",16),t.TgZ(38,"mat-icon",17),t._uU(39,"attach_money"),t.qZA(),t.YNc(40,j,3,2,"mat-error",8),t.qZA(),t.qZA(),t.TgZ(41,"mat-dialog-actions",18),t.TgZ(42,"button",19),t.NdJ("click",function(){return a.closeDialog()}),t._uU(43," CERRAR "),t.qZA(),t.TgZ(44,"button",20),t._uU(45,"GUARDAR"),t.qZA(),t.qZA(),t.qZA()),2&n){const o=t.MAs(22);t.xp6(9),t.Q6J("formGroup",a.formData),t.xp6(6),t.Q6J("ngIf",(null==a.validateField.estado?null:a.validateField.estado.invalid)&&((null==a.validateField.estado?null:a.validateField.estado.dirty)||(null==a.validateField.estado?null:a.validateField.estado.touched))),t.xp6(4),t.Q6J("matDatepicker",o),t.xp6(1),t.Q6J("for",o),t.xp6(3),t.Q6J("ngIf",(null==a.validateField.fechaUltimaAct?null:a.validateField.fechaUltimaAct.invalid)&&((null==a.validateField.fechaUltimaAct?null:a.validateField.fechaUltimaAct.dirty)||(null==a.validateField.fechaUltimaAct?null:a.validateField.fechaUltimaAct.touched))),t.xp6(5),t.Q6J("ngIf",(null==a.validateField.idCliente?null:a.validateField.idCliente.invalid)&&((null==a.validateField.idCliente?null:a.validateField.idCliente.dirty)||(null==a.validateField.idCliente?null:a.validateField.idCliente.touched))),t.xp6(5),t.Q6J("ngIf",(null==a.validateField.numeroCuenta?null:a.validateField.numeroCuenta.invalid)&&((null==a.validateField.numeroCuenta?null:a.validateField.numeroCuenta.dirty)||(null==a.validateField.numeroCuenta?null:a.validateField.numeroCuenta.touched))),t.xp6(7),t.Q6J("ngIf",(null==a.validateField.saldo?null:a.validateField.saldo.invalid)&&((null==a.validateField.saldo?null:a.validateField.saldo.dirty)||(null==a.validateField.saldo?null:a.validateField.saldo.touched)))}},directives:[c.uh,Z.Hw,f.lW,r._Y,r.JL,r.sg,c.xY,m.KE,m.hX,q.Nt,r.Fj,r.JJ,r.u,_.O5,m.TO,p.hl,p.nW,m.R9,p.Mq,r.wV,m.qo,c.H8],styles:[".title[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.title--icon[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center}.title--icon__margin-icon[_ngcontent-%COMP%]{margin-right:10px}"]}),e})();class B{constructor(i){this.form=i}get fechaUltimaAct(){return this.form.get("fechaUltimaAct")}get monto(){return this.form.get("monto")}get numeroCuenta(){return this.form.get("numeroCuenta")}get terminal(){return this.form.get("terminal")}get tipo(){return this.form.get("tipo")}get usuario(){return this.form.get("usuario")}}var L=l(7238),$=l(4107),W=l(508);function z(e,i){1&e&&(t.TgZ(0,"span"),t._uU(1," Campo requerido. "),t.qZA())}function X(e,i){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,z,2,0,"span",11),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",null==n.validateField.fechaUltimaAct?null:n.validateField.fechaUltimaAct.hasError("required"))}}function V(e,i){1&e&&(t.TgZ(0,"span"),t._uU(1," Campo requerido. "),t.qZA())}function K(e,i){1&e&&(t.TgZ(0,"span"),t._uU(1,' Solo n\xfameros "+" 2 decimales como m\xe1ximo. '),t.qZA())}function tt(e,i){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,V,2,0,"span",11),t.YNc(2,K,2,0,"span",11),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",null==n.validateField.monto?null:n.validateField.monto.hasError("required")),t.xp6(1),t.Q6J("ngIf",null==n.validateField.monto?null:n.validateField.monto.hasError("pattern"))}}function et(e,i){1&e&&(t.TgZ(0,"span"),t._uU(1," Campo requerido. "),t.qZA())}function nt(e,i){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,et,2,0,"span",11),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",null==n.validateField.numeroCuenta?null:n.validateField.numeroCuenta.hasError("required"))}}function at(e,i){1&e&&(t.TgZ(0,"span"),t._uU(1," Campo requerido. "),t.qZA())}function it(e,i){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,at,2,0,"span",11),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",null==n.validateField.terminal?null:n.validateField.terminal.hasError("required"))}}function ot(e,i){1&e&&(t.TgZ(0,"span"),t._uU(1," Campo requerido. "),t.qZA())}function rt(e,i){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,ot,2,0,"span",11),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",null==n.validateField.tipo?null:n.validateField.tipo.hasError("required"))}}function lt(e,i){1&e&&(t.TgZ(0,"span"),t._uU(1," Campo requerido. "),t.qZA())}function st(e,i){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,lt,2,0,"span",11),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",null==n.validateField.usuario?null:n.validateField.usuario.hasError("required"))}}let ct=(()=>{class e{constructor(n,a,o,u,g,U){this.dialogRef=n,this.data=a,this.fb=o,this.savingAccountsService=u,this.dialog=g,this.router=U,this.subscription=new v.w0}ngOnInit(){this.initForm()}initForm(){var n;this.dialogRef.disableClose=!0,this.formData=this.fb.group({fechaUltimaAct:[null,[r.kI.required]],monto:[null,[r.kI.required,r.kI.pattern(x.M.onlyNumbersFloats)]],numeroCuenta:[null,[r.kI.required]],terminal:[null,[r.kI.required]],tipo:[null,[r.kI.required]],usuario:[null,[r.kI.required]]}),this.validateField=new B(this.formData),null===(n=this.validateField.numeroCuenta)||void 0===n||n.setValue(this.data.numeroCuenta)}closeDialog(){this.dialogRef.close(!1)}save(){this.formData.invalid?this.formData.markAllAsTouched():this.savingAccountsService.createTransactions(this.formData.value).subscribe(n=>{this.dialogRef.close(!0)},({error:n})=>{if("Auth token is expired"===n.error){this.dialogRef.close(!0);const a=this.dialog.open(T,{maxWidth:"100vw",maxHeight:"100vh",width:"80%"});this.subscription.add(a.afterClosed().subscribe(o=>{this.router.navigate(["/login"])}))}})}addEventDatePicker(n,a){var o;"fechaUltimaAct"===(this.startDate=new Date,a)&&(n.value.setHours(this.startDate.getHours(),this.startDate.getMinutes(),this.startDate.getSeconds(),this.startDate.getMilliseconds()),null===(o=this.validateField.fechaUltimaAct)||void 0===o||o.setValue(n.value))}scrollToFirstInvalidControl(){var n,a;(null===(n=this.validateField.usuario)||void 0===n?void 0:n.errors)&&(null===(a=document.getElementById("usuarioId"))||void 0===a||a.scrollIntoView())}ngOnDestroy(){this.subscription.unsubscribe()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(c.so),t.Y36(c.WI),t.Y36(r.qu),t.Y36(y),t.Y36(c.uw),t.Y36(D.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-transaction-deposit"]],decls:55,vars:9,consts:[["mat-dialog-title","",1,"title"],[1,"title--icon"],[1,"title--icon__margin-icon"],["mat-icon-button","","aria-label","Example icon button with a vertical three dot icon",3,"click"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"mat-typography"],["appearance","outline","id","fechaDeInicioId"],["matInput","","placeholder","click en icono de fecha ==>","readonly","","formControlName","fechaUltimaAct",3,"matDatepicker","dateChange"],["matSuffix","",3,"for"],["disabled","false"],["pickerFechaUltimaAct",""],[4,"ngIf"],["appearance","outline"],["matInput","","type","number","placeholder","Monto","formControlName","monto","onkeypress","return event.charCode != 45"],["matPrefix",""],["appearance","outline","matTooltip","Campo no editable"],["matInput","","type","text","placeholder","N\xfamero de cuenta","readonly","","formControlName","numeroCuenta"],["matInput","","type","text","placeholder","Terminal","formControlName","terminal"],["formControlName","tipo"],["value","Retiro"],["value","Deposito"],["appearance","outline","id","usuarioId"],["matInput","","type","text","placeholder","Usuario","formControlName","usuario"],["align","end"],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","","color","primary","type","submit"]],template:function(n,a){if(1&n&&(t.TgZ(0,"h2",0),t.TgZ(1,"div",1),t.TgZ(2,"mat-icon",2),t._uU(3,"add_circle"),t.qZA(),t._uU(4," DEPOSITO/RETIRO "),t.qZA(),t.TgZ(5,"div"),t.TgZ(6,"button",3),t.NdJ("click",function(){return a.closeDialog()}),t.TgZ(7,"mat-icon"),t._uU(8,"close"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"form",4),t.NdJ("ngSubmit",function(){return a.save()}),t.TgZ(10,"mat-dialog-content",5),t.TgZ(11,"mat-form-field",6),t.TgZ(12,"mat-label"),t._uU(13,"Fecha"),t.qZA(),t.TgZ(14,"input",7),t.NdJ("dateChange",function(u){return a.addEventDatePicker(u,"fechaUltimaAct")}),t.qZA(),t._UZ(15,"mat-datepicker-toggle",8),t._UZ(16,"mat-datepicker",9,10),t.YNc(18,X,2,1,"mat-error",11),t.qZA(),t.TgZ(19,"mat-form-field",12),t.TgZ(20,"mat-label"),t._uU(21,"Monto"),t.qZA(),t._UZ(22,"input",13),t.TgZ(23,"mat-icon",14),t._uU(24,"attach_money"),t.qZA(),t.YNc(25,tt,3,2,"mat-error",11),t.qZA(),t.TgZ(26,"mat-form-field",15),t.TgZ(27,"mat-label"),t._uU(28,"N\xfamero de cuenta"),t.qZA(),t._UZ(29,"input",16),t.YNc(30,nt,2,1,"mat-error",11),t.qZA(),t.TgZ(31,"mat-form-field",12),t.TgZ(32,"mat-label"),t._uU(33,"Terminal"),t.qZA(),t._UZ(34,"input",17),t.YNc(35,it,2,1,"mat-error",11),t.qZA(),t.TgZ(36,"mat-form-field",12),t.TgZ(37,"mat-label"),t._uU(38,"Tipo de transacci\xf3n"),t.qZA(),t.TgZ(39,"mat-select",18),t.TgZ(40,"mat-option",19),t._uU(41,"Retiro"),t.qZA(),t.TgZ(42,"mat-option",20),t._uU(43,"Deposito"),t.qZA(),t.qZA(),t.YNc(44,rt,2,1,"mat-error",11),t.qZA(),t.TgZ(45,"mat-form-field",21),t.TgZ(46,"mat-label"),t._uU(47,"Usuario"),t.qZA(),t._UZ(48,"input",22),t.YNc(49,st,2,1,"mat-error",11),t.qZA(),t.qZA(),t.TgZ(50,"mat-dialog-actions",23),t.TgZ(51,"button",24),t.NdJ("click",function(){return a.closeDialog()}),t._uU(52," CERRAR "),t.qZA(),t.TgZ(53,"button",25),t._uU(54,"GUARDAR"),t.qZA(),t.qZA(),t.qZA()),2&n){const o=t.MAs(17);t.xp6(9),t.Q6J("formGroup",a.formData),t.xp6(5),t.Q6J("matDatepicker",o),t.xp6(1),t.Q6J("for",o),t.xp6(3),t.Q6J("ngIf",(null==a.validateField.fechaUltimaAct?null:a.validateField.fechaUltimaAct.invalid)&&((null==a.validateField.fechaUltimaAct?null:a.validateField.fechaUltimaAct.dirty)||(null==a.validateField.fechaUltimaAct?null:a.validateField.fechaUltimaAct.touched))),t.xp6(7),t.Q6J("ngIf",(null==a.validateField.monto?null:a.validateField.monto.invalid)&&((null==a.validateField.monto?null:a.validateField.monto.dirty)||(null==a.validateField.monto?null:a.validateField.monto.touched))),t.xp6(5),t.Q6J("ngIf",(null==a.validateField.numeroCuenta?null:a.validateField.numeroCuenta.invalid)&&((null==a.validateField.numeroCuenta?null:a.validateField.numeroCuenta.dirty)||(null==a.validateField.numeroCuenta?null:a.validateField.numeroCuenta.touched))),t.xp6(5),t.Q6J("ngIf",(null==a.validateField.terminal?null:a.validateField.terminal.invalid)&&((null==a.validateField.terminal?null:a.validateField.terminal.dirty)||(null==a.validateField.terminal?null:a.validateField.terminal.touched))),t.xp6(9),t.Q6J("ngIf",(null==a.validateField.tipo?null:a.validateField.tipo.invalid)&&((null==a.validateField.tipo?null:a.validateField.tipo.dirty)||(null==a.validateField.tipo?null:a.validateField.tipo.touched))),t.xp6(5),t.Q6J("ngIf",(null==a.validateField.usuario?null:a.validateField.usuario.invalid)&&((null==a.validateField.usuario?null:a.validateField.usuario.dirty)||(null==a.validateField.usuario?null:a.validateField.usuario.touched)))}},directives:[c.uh,Z.Hw,f.lW,r._Y,r.JL,r.sg,c.xY,m.KE,m.hX,q.Nt,r.Fj,p.hl,r.JJ,r.u,p.nW,m.R9,p.Mq,_.O5,m.TO,r.wV,m.qo,L.gM,$.gD,W.ey,c.H8],styles:[".title[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.title--icon[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center}.title--icon__margin-icon[_ngcontent-%COMP%]{margin-right:10px}"]}),e})();var h=l(9224);let w=(()=>{class e{transform(n){return null===n?"":"string"==typeof n?n:"number"==typeof n?`$${n} MXN`:n}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275pipe=t.Yjl({name:"moneyPipe",type:e,pure:!0}),e})();function ut(e,i){1&e&&(t.TgZ(0,"th",24),t._uU(1," Fecha \xfaltima actualizaci\xf3n "),t.qZA())}function mt(e,i){if(1&e&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",n.fechaUltimaAct," ")}}function dt(e,i){1&e&&(t.TgZ(0,"th",24),t._uU(1,"Monto"),t.qZA())}function pt(e,i){if(1&e&&(t.TgZ(0,"td",25),t._uU(1),t.ALo(2,"moneyPipe"),t.ALo(3,"moneyPipe"),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",n.monto?t.lcZ(2,1,n.monto):t.lcZ(3,3,n.saldo)," ")}}function gt(e,i){1&e&&(t.TgZ(0,"th",24),t._uU(1," N\xfamero de cuenta "),t.qZA())}function ft(e,i){if(1&e&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",n.numeroCuenta," ")}}function ht(e,i){1&e&&(t.TgZ(0,"th",24),t._uU(1,"Teminal"),t.qZA())}function _t(e,i){if(1&e&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",n.terminal," ")}}function At(e,i){1&e&&(t.TgZ(0,"th",24),t._uU(1," Tipo de transaccion "),t.qZA())}function vt(e,i){if(1&e&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",n.tipo," ")}}function Zt(e,i){1&e&&(t.TgZ(0,"th",24),t._uU(1,"Usuario"),t.qZA())}function Tt(e,i){if(1&e&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",n.usuario," ")}}function Ct(e,i){1&e&&t._UZ(0,"tr",26)}function yt(e,i){1&e&&t._UZ(0,"tr",27)}function qt(e,i){1&e&&(t.TgZ(0,"tr",28),t.TgZ(1,"td",29),t._uU(2,"No se encontraron resultados."),t.qZA(),t.qZA())}const Dt=function(){return[100,200,500]};let St=(()=>{class e{constructor(n,a,o,u,g){this.dialogRef=n,this.data=a,this.savingAccountsService=o,this.dialog=u,this.loginService=g,this.transactionsDisplayedColumns=["fechaUltimaAct","monto","numeroCuenta","terminal","tipo","usuario"],this.transactionsDataSource=new s.by,this.transactions=[],this.subscription=new v.w0}ngOnInit(){this.dialogRef.disableClose=!0,this.getAllSavingAccounts()}getAllSavingAccounts(){this.transactionsDataSource.data=[],this.transactions=[],this.savingAccountsService.getAllTransacions().subscribe(n=>{const a=Object.assign({},n);if(n){for(let o of Object.keys(a))a[o].id=o,this.transactions.push(a[o]);this.transactionsDataSource.data=[...this.transactions],this.transactions=[...this.transactions]}this.transactionsDataSource.sort=this.sort},({})=>{const a=this.dialog.open(T,{maxWidth:"100vw",maxHeight:"100vh",width:"80%"});this.subscription.add(a.afterClosed().subscribe(o=>{this.loginService.logout()}))})}ngAfterViewInit(){var n=this;return(0,b.Z)(function*(){n.transactionsDataSource.paginator=n.paginator,n.transactionsDataSource.paginator._intl.itemsPerPageLabel="Transacciones por p\xe1gina",n.transactionsDataSource.paginator._intl.firstPageLabel="Primera P\xe1gina",n.transactionsDataSource.paginator._intl.previousPageLabel="P\xe1gina anterior",n.transactionsDataSource.paginator._intl.nextPageLabel="Siguente p\xe1gina",n.transactionsDataSource.paginator._intl.lastPageLabel="\xdaltima P\xe1gina",n.transactionsDataSource.sort=n.sort})()}closeDialog(){this.dialogRef.close(!1)}applyFilter(n){this.transactionsDataSource.filter=n.target.value.trim().toLowerCase()}ngOnDestroy(){this.subscription.unsubscribe()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(c.so),t.Y36(c.WI),t.Y36(y),t.Y36(c.uw),t.Y36(S.r))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-transaction-history"]],viewQuery:function(n,a){if(1&n&&(t.Gf(A.NW,5),t.Gf(d.YE,5)),2&n){let o;t.iGM(o=t.CRH())&&(a.paginator=o.first),t.iGM(o=t.CRH())&&(a.sort=o.first)}},decls:43,vars:12,consts:[["mat-dialog-title","",1,"title"],[1,"title--icon"],[1,"title--icon__margin-icon"],["mat-icon-button","","aria-label","Example icon button with a vertical three dot icon",3,"click"],["appearance","standard"],["matInput","","placeholder","Buscar",3,"keyup"],["input",""],[1,"mat-elevation-z8"],[1,"table-container","mat-elevation-z0"],["mat-table","","matSort","",2,"width","100%",3,"dataSource"],["matColumnDef","fechaUltimaAct",3,"sticky"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","monto",3,"sticky"],["matColumnDef","numeroCuenta",3,"sticky"],["matColumnDef","terminal",3,"sticky"],["matColumnDef","tipo",3,"sticky"],["matColumnDef","usuario",3,"stickyEnd"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["align","end"],["mat-raised-button","","color","warn",3,"click"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","16",1,"mat-cell"]],template:function(n,a){1&n&&(t.TgZ(0,"h2",0),t.TgZ(1,"div",1),t.TgZ(2,"mat-icon",2),t._uU(3,"add_circle"),t.qZA(),t._uU(4," HISTORIAL DE TRANSACCIONES "),t.qZA(),t.TgZ(5,"div"),t.TgZ(6,"button",3),t.NdJ("click",function(){return a.closeDialog()}),t.TgZ(7,"mat-icon"),t._uU(8,"close"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"mat-card-content"),t.TgZ(10,"mat-form-field",4),t.TgZ(11,"mat-label"),t._uU(12,"Buscar"),t.qZA(),t.TgZ(13,"input",5,6),t.NdJ("keyup",function(u){return a.applyFilter(u)}),t.qZA(),t.qZA(),t.TgZ(15,"div",7),t.TgZ(16,"div",8),t.TgZ(17,"table",9),t.ynx(18,10),t.YNc(19,ut,2,0,"th",11),t.YNc(20,mt,2,1,"td",12),t.BQk(),t.ynx(21,13),t.YNc(22,dt,2,0,"th",11),t.YNc(23,pt,4,5,"td",12),t.BQk(),t.ynx(24,14),t.YNc(25,gt,2,0,"th",11),t.YNc(26,ft,2,1,"td",12),t.BQk(),t.ynx(27,15),t.YNc(28,ht,2,0,"th",11),t.YNc(29,_t,2,1,"td",12),t.BQk(),t.ynx(30,16),t.YNc(31,At,2,0,"th",11),t.YNc(32,vt,2,1,"td",12),t.BQk(),t.ynx(33,17),t.YNc(34,Zt,2,0,"th",11),t.YNc(35,Tt,2,1,"td",12),t.BQk(),t.YNc(36,Ct,1,0,"tr",18),t.YNc(37,yt,1,0,"tr",19),t.YNc(38,qt,3,0,"tr",20),t.qZA(),t.qZA(),t._UZ(39,"mat-paginator",21),t.qZA(),t.qZA(),t.TgZ(40,"mat-dialog-actions",22),t.TgZ(41,"button",23),t.NdJ("click",function(){return a.closeDialog()}),t._uU(42,"CERRAR"),t.qZA(),t.qZA()),2&n&&(t.xp6(17),t.Q6J("dataSource",a.transactionsDataSource),t.xp6(1),t.Q6J("sticky",!1),t.xp6(3),t.Q6J("sticky",!1),t.xp6(3),t.Q6J("sticky",!1),t.xp6(3),t.Q6J("sticky",!1),t.xp6(3),t.Q6J("sticky",!1),t.xp6(3),t.Q6J("stickyEnd",!0),t.xp6(3),t.Q6J("matHeaderRowDef",a.transactionsDisplayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",a.transactionsDisplayedColumns),t.xp6(2),t.Q6J("pageSizeOptions",t.DdM(11,Dt)))},directives:[c.uh,Z.Hw,f.lW,h.dn,m.KE,m.hX,q.Nt,s.BZ,d.YE,s.w1,s.fO,s.ge,d.nU,s.Dz,s.ev,s.as,s.XQ,s.nj,s.Gk,s.Ee,A.NW,c.H8],pipes:[w],styles:[".title[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.title--icon[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center}.title--icon__margin-icon[_ngcontent-%COMP%]{margin-right:10px}.table-container[_ngcontent-%COMP%]{width:100%;height:300px;overflow:auto}table[_ngcontent-%COMP%]{width:100%}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{font-size:10px}"]}),e})();function Ut(e,i){1&e&&(t.TgZ(0,"th",22),t._uU(1," ID del cliente "),t.qZA())}function Ft(e,i){if(1&e&&(t.TgZ(0,"td",23),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",n.idCliente," ")}}function bt(e,i){1&e&&(t.TgZ(0,"th",22),t._uU(1," Estado de cuenta "),t.qZA())}function xt(e,i){if(1&e&&(t.TgZ(0,"td",23),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",n.estado," ")}}function Nt(e,i){1&e&&(t.TgZ(0,"th",22),t._uU(1," Fecha \xfaltima actualizaci\xf3n "),t.qZA())}function wt(e,i){if(1&e&&(t.TgZ(0,"td",23),t._uU(1),t.ALo(2,"date"),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,n.fechaUltimaAct)," ")}}function kt(e,i){1&e&&(t.TgZ(0,"th",22),t._uU(1," N\xfamero de cuenta "),t.qZA())}function It(e,i){if(1&e&&(t.TgZ(0,"td",23),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",n.numeroCuenta," ")}}function Yt(e,i){1&e&&(t.TgZ(0,"th",22),t._uU(1,"Saldo"),t.qZA())}function Rt(e,i){if(1&e&&(t.TgZ(0,"td",23),t._uU(1),t.ALo(2,"moneyPipe"),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,n.saldo)," ")}}function Jt(e,i){1&e&&(t.TgZ(0,"th",22),t._uU(1," Transacci\xf3nes "),t.qZA())}function Et(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"td",23),t.TgZ(1,"button",24),t.NdJ("click",function(){const u=t.CHM(n).$implicit;return t.oxw().openDialogGeneric("deposit",u)}),t.TgZ(2,"span",25),t._uU(3,"DEPOSITO"),t.qZA(),t.TgZ(4,"span"),t._uU(5,"/"),t.qZA(),t.TgZ(6,"span",26),t._uU(7,"RETIRO"),t.qZA(),t.qZA(),t.qZA()}}function Qt(e,i){1&e&&t._UZ(0,"tr",27)}function Ht(e,i){1&e&&t._UZ(0,"tr",28)}function Ot(e,i){1&e&&(t.TgZ(0,"tr",29),t.TgZ(1,"td",30),t._uU(2,"No se encontraron resultados."),t.qZA(),t.qZA())}const Pt=function(){return[100,200,500]},Mt=[{path:"",component:(()=>{class e{constructor(n,a,o){this.dialog=n,this.savingAccountsService=a,this.loginService=o,this.savingAccountsDisplayedColumns=["idCliente","estado","fechaUltimaAct","numeroCuenta","saldo","transacciones"],this.savingAccountsDataSource=new s.by,this.savingAccounts=[],this.subscription=new v.w0}ngOnInit(){this.getAllSavingAccounts()}getAllSavingAccounts(){this.savingAccountsDataSource.data=[],this.savingAccounts=[],this.savingAccountsService.getAllSavingAccounts().subscribe(n=>{const a=Object.assign({},n);if(n){for(let o of Object.keys(a))a[o].id=o,this.savingAccounts.push(a[o]);this.savingAccountsDataSource.data=[...this.savingAccounts],this.savingAccounts=[...this.savingAccounts]}this.savingAccountsDataSource.sort=this.sort},({error:n})=>{if("Auth token is expired"===n.error){const a=this.dialog.open(T,{maxWidth:"100vw",maxHeight:"100vh",width:"80%"});this.subscription.add(a.afterClosed().subscribe(o=>{this.loginService.logout()}))}})}ngAfterViewInit(){var n=this;return(0,b.Z)(function*(){n.savingAccountsDataSource.paginator=n.paginator,n.savingAccountsDataSource.paginator._intl.itemsPerPageLabel="Cuentas de Ahorro por p\xe1gina",n.savingAccountsDataSource.paginator._intl.firstPageLabel="Primera P\xe1gina",n.savingAccountsDataSource.paginator._intl.previousPageLabel="P\xe1gina anterior",n.savingAccountsDataSource.paginator._intl.nextPageLabel="Siguente p\xe1gina",n.savingAccountsDataSource.paginator._intl.lastPageLabel="\xdaltima P\xe1gina",n.savingAccountsDataSource.sort=n.sort})()}applyFilter(n){this.savingAccountsDataSource.filter=n.target.value.trim().toLowerCase()}openDialogCreate(){const n=this.dialog.open(G,{maxWidth:"100vw",maxHeight:"100vh",width:"80%"});this.subscription.add(n.afterClosed().subscribe(a=>{a&&(this.ngOnInit(),this.ngAfterViewInit())}))}openDialogGeneric(n,a){let o;switch(n){case"deposit":o=this.dialog.open(ct,{maxWidth:"100vw",maxHeight:"100vh",width:"95%",data:a}),this.subscription.add(o.afterClosed().subscribe(u=>{u&&(this.ngOnInit(),this.ngAfterViewInit())}));break;case"history":o=this.dialog.open(St,{maxWidth:"100vw",maxHeight:"100vh",width:"95%"}),this.subscription.add(o.afterClosed().subscribe(u=>{}))}}ngOnDestroy(){this.subscription.unsubscribe()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(c.uw),t.Y36(y),t.Y36(S.r))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-saving-accounts"]],viewQuery:function(n,a){if(1&n&&(t.Gf(A.NW,5),t.Gf(d.YE,5)),2&n){let o;t.iGM(o=t.CRH())&&(a.paginator=o.first),t.iGM(o=t.CRH())&&(a.sort=o.first)}},decls:39,vars:12,consts:[[1,"mat-elevation-z0"],["align","end"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary",3,"click"],["appearance","standard"],["matInput","","placeholder","Buscar",3,"keyup"],["input",""],[1,"mat-elevation-z8"],[1,"table-container","mat-elevation-z0"],["mat-table","","matSort","",2,"width","100%",3,"dataSource"],["matColumnDef","idCliente",3,"sticky"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","estado",3,"sticky"],["matColumnDef","fechaUltimaAct",3,"sticky"],["matColumnDef","numeroCuenta",3,"sticky"],["matColumnDef","saldo",3,"sticky"],["matColumnDef","transacciones",3,"stickyEnd"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-stroked-button","","color","primary",3,"click"],[2,"color","#673ab7"],[2,"color","#f44336"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","16",1,"mat-cell"]],template:function(n,a){1&n&&(t.TgZ(0,"mat-card",0),t.TgZ(1,"mat-card-title"),t._uU(2,"ALTA CUENTA DE AHORRO"),t.qZA(),t.TgZ(3,"mat-card-actions",1),t.TgZ(4,"button",2),t.NdJ("click",function(){return a.openDialogGeneric("history")}),t._uU(5," HISTORIAL DE TRANSACCIONES "),t.qZA(),t.TgZ(6,"button",3),t.NdJ("click",function(){return a.openDialogCreate()}),t._uU(7," AGREGAR CUENTA DE AHORRO "),t.qZA(),t.qZA(),t.TgZ(8,"mat-card-content"),t.TgZ(9,"mat-form-field",4),t.TgZ(10,"mat-label"),t._uU(11,"Buscar"),t.qZA(),t.TgZ(12,"input",5,6),t.NdJ("keyup",function(u){return a.applyFilter(u)}),t.qZA(),t.qZA(),t.TgZ(14,"div",7),t.TgZ(15,"div",8),t.TgZ(16,"table",9),t.ynx(17,10),t.YNc(18,Ut,2,0,"th",11),t.YNc(19,Ft,2,1,"td",12),t.BQk(),t.ynx(20,13),t.YNc(21,bt,2,0,"th",11),t.YNc(22,xt,2,1,"td",12),t.BQk(),t.ynx(23,14),t.YNc(24,Nt,2,0,"th",11),t.YNc(25,wt,3,3,"td",12),t.BQk(),t.ynx(26,15),t.YNc(27,kt,2,0,"th",11),t.YNc(28,It,2,1,"td",12),t.BQk(),t.ynx(29,16),t.YNc(30,Yt,2,0,"th",11),t.YNc(31,Rt,3,3,"td",12),t.BQk(),t.ynx(32,17),t.YNc(33,Jt,2,0,"th",11),t.YNc(34,Et,8,0,"td",12),t.BQk(),t.YNc(35,Qt,1,0,"tr",18),t.YNc(36,Ht,1,0,"tr",19),t.YNc(37,Ot,3,0,"tr",20),t.qZA(),t.qZA(),t._UZ(38,"mat-paginator",21),t.qZA(),t.qZA(),t.qZA()),2&n&&(t.xp6(16),t.Q6J("dataSource",a.savingAccountsDataSource),t.xp6(1),t.Q6J("sticky",!1),t.xp6(3),t.Q6J("sticky",!1),t.xp6(3),t.Q6J("sticky",!1),t.xp6(3),t.Q6J("sticky",!1),t.xp6(3),t.Q6J("sticky",!1),t.xp6(3),t.Q6J("stickyEnd",!0),t.xp6(3),t.Q6J("matHeaderRowDef",a.savingAccountsDisplayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",a.savingAccountsDisplayedColumns),t.xp6(2),t.Q6J("pageSizeOptions",t.DdM(11,Pt)))},directives:[h.a8,h.n5,h.hq,f.lW,h.dn,m.KE,m.hX,q.Nt,s.BZ,d.YE,s.w1,s.fO,s.ge,d.nU,s.Dz,s.ev,s.as,s.XQ,s.nj,s.Gk,s.Ee,A.NW],pipes:[_.uU,w],styles:[".table-container[_ngcontent-%COMP%]{width:100%;height:300px;overflow:auto}table[_ngcontent-%COMP%]{width:100%}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{font-size:10px}"]}),e})()}];let jt=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[D.Bz.forChild(Mt)],D.Bz]}),e})();var Gt=l(417);let Bt=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({}),e})();var Lt=l(3821);let $t=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[_.ez,jt,r.UX,Gt.q,N.JF,Bt,Lt.K]]}),e})()}}]);