"use strict";(self.webpackChunkfinanciera=self.webpackChunkfinanciera||[]).push([[559],{8559:(R,p,a)=>{a.r(p),a.d(p,{LoginModule:()=>Q});var c=a(9808),m=a(1083),r=a(3075),v=a(727);class h{constructor(e){this.form=e}get email(){return this.form.get("email")}get password(){return this.form.get("password")}}let Z=(()=>{class i{}return i.email=/^(([^<>()\[\]\\.,;:\s@\u201d]+(\.[^<>()\[\]\\.,;:\s@\u201d]+)*)|(\u201c.+\u201d))@((\[[0\u20139]{1,3}\.[0\u20139]{1,3}\.[0\u20139]{1,3}\.[0\u20139]{1,3}])|(([a-zA-Z\-0\u20139]+\.)+[a-zA-Z]{2,}))$/,i})();var n=a(5e3),F=a(8505),y=a(4004),L=a(262),C=a(9646),g=a(2340),f=a(520);let T=(()=>{class i{constructor(t){this.http=t}login(t){return this.http.post(`${g.N.api.login.url}`,{email:t.email,password:t.password,returnSecureToken:!0},{params:{key:g.N.api.login.key}}).pipe((0,F.b)(s=>{console.log(s)}),(0,y.U)(s=>!0),(0,L.K)(s=>(0,C.of)(!1)))}}return i.\u0275fac=function(t){return new(t||i)(n.LFG(f.eN))},i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var A=a(7261),I=a(4594),d=a(9224),u=a(7322),w=a(7531),N=a(3874),E=a(7423);function J(i,e){1&i&&(n.TgZ(0,"span"),n._uU(1," Campo requerido. "),n.qZA())}function S(i,e){1&i&&(n.TgZ(0,"span"),n._uU(1," Introduce un correo electr\xf2nico valido. "),n.qZA())}function b(i,e){if(1&i&&(n.TgZ(0,"mat-error"),n.YNc(1,J,2,0,"span",8),n.YNc(2,S,2,0,"span",8),n.qZA()),2&i){const t=n.oxw();n.xp6(1),n.Q6J("ngIf",null==t.validateField.email?null:t.validateField.email.hasError("required")),n.xp6(1),n.Q6J("ngIf",null==t.validateField.email?null:t.validateField.email.hasError("pattern"))}}function U(i,e){1&i&&(n.TgZ(0,"span"),n._uU(1," Campo requerido. "),n.qZA())}function O(i,e){if(1&i&&(n.TgZ(0,"mat-error"),n.YNc(1,U,2,0,"span",8),n.qZA()),2&i){const t=n.oxw();n.xp6(1),n.Q6J("ngIf",null==t.validateField.password?null:t.validateField.password.hasError("required"))}}const M=[{path:"",component:(()=>{class i{constructor(t,o,l,s){this.fb=t,this.router=o,this.loginService=l,this.snackBar=s,this.visibilityEye=!1,this._subscription=new v.w0}ngOnInit(){this.initFormLogin()}initFormLogin(){this.formLogin=this.fb.group({email:["",[r.kI.required,r.kI.pattern(Z.email)]],password:["",[r.kI.required]]}),this.validateField=new h(this.formLogin)}login(){this.formLogin.invalid?this.formLogin.markAllAsTouched():this.loginService.login(this.formLogin.value).subscribe(t=>{t||this.snackBar.open("Error no tienes permisos","OK",{duration:5e3})})}ngOnDestroy(){this._subscription.unsubscribe()}}return i.\u0275fac=function(t){return new(t||i)(n.Y36(r.qu),n.Y36(m.F0),n.Y36(T),n.Y36(A.ux))},i.\u0275cmp=n.Xpm({type:i,selectors:[["app-login"]],decls:26,vars:6,consts:[["color","primary"],[1,"span-spacer"],["autocomplete","off",1,"container",3,"formGroup","ngSubmit"],[1,"container--card"],[1,"container--card__title"],["appearance","outline","id","emailId",1,"container--card__field"],["matInput","","type","email","placeholder","Correo electr\xf2nico","formControlName","email"],["matSuffix",""],[4,"ngIf"],["appearance","outline","id","passwordId",1,"container--card__field"],["matInput","","placeholder","Contrase\xf1a","formControlName","password",3,"type"],["matSuffix","",3,"color","click"],["mat-raised-button","","color","primary","type","submit",1,"container--card__button"]],template:function(t,o){1&t&&(n.TgZ(0,"mat-toolbar",0),n.TgZ(1,"span"),n._uU(2,"FINANCIERA"),n.qZA(),n._UZ(3,"span",1),n.qZA(),n.TgZ(4,"form",2),n.NdJ("ngSubmit",function(){return o.login()}),n.TgZ(5,"mat-card",3),n.TgZ(6,"mat-card-title",4),n._uU(7," INICIO DE SESION "),n.qZA(),n.TgZ(8,"mat-card-content"),n.TgZ(9,"mat-form-field",5),n.TgZ(10,"mat-label"),n._uU(11,"Correo electr\xf2nico"),n.qZA(),n._UZ(12,"input",6),n.TgZ(13,"mat-icon",7),n._uU(14,"mail"),n.qZA(),n.YNc(15,b,3,2,"mat-error",8),n.qZA(),n.TgZ(16,"mat-form-field",9),n.TgZ(17,"mat-label"),n._uU(18,"Contrase\xf1a"),n.qZA(),n._UZ(19,"input",10),n.TgZ(20,"mat-icon",11),n.NdJ("click",function(){return o.visibilityEye=!o.visibilityEye}),n._uU(21),n.qZA(),n.YNc(22,O,2,1,"mat-error",8),n.qZA(),n.qZA(),n.TgZ(23,"mat-card-actions"),n.TgZ(24,"button",12),n._uU(25," LOGIN "),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&t&&(n.xp6(4),n.Q6J("formGroup",o.formLogin),n.xp6(11),n.Q6J("ngIf",(null==o.validateField.email?null:o.validateField.email.invalid)&&((null==o.validateField.email?null:o.validateField.email.dirty)||(null==o.validateField.email?null:o.validateField.email.touched))),n.xp6(4),n.Q6J("type",o.visibilityEye?"text":"password"),n.xp6(1),n.Q6J("color",null!=o.validateField.password&&o.validateField.password.invalid&&(null!=o.validateField.password&&o.validateField.password.dirty||null!=o.validateField.password&&o.validateField.password.touched)?"warn":""),n.xp6(1),n.hij(" ",o.visibilityEye?"visibility":"visibility_off"," "),n.xp6(1),n.Q6J("ngIf",(null==o.validateField.password?null:o.validateField.password.invalid)&&((null==o.validateField.password?null:o.validateField.password.dirty)||(null==o.validateField.password?null:o.validateField.password.touched))))},directives:[I.Ye,r._Y,r.JL,r.sg,d.a8,d.n5,d.dn,u.KE,u.hX,w.Nt,r.Fj,r.JJ,r.u,N.Hw,u.R9,c.O5,u.TO,d.hq,E.lW],styles:[".span-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.container[_ngcontent-%COMP%]{margin:auto;width:50%;padding-top:20px}.container--card[_ngcontent-%COMP%]{margin:auto;width:320px}.container--card__title[_ngcontent-%COMP%]{width:100%;margin-bottom:10px;display:flex;flex-direction:row;justify-content:center!important}.container--card__button[_ngcontent-%COMP%], .container--card__field[_ngcontent-%COMP%]{width:100%}"]}),i})()}];let Y=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=n.oAB({type:i}),i.\u0275inj=n.cJS({imports:[[m.Bz.forChild(M)],m.Bz]}),i})();var q=a(2213);let Q=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=n.oAB({type:i}),i.\u0275inj=n.cJS({imports:[[c.ez,Y,r.UX,q.q,f.JF]]}),i})()}}]);